#!/usr/bin/expect -f

set timeout -1

spawn amplify auth update

expect "What do you want to do?"
send -- "\[B"
send -- "\r"
expect "Select the authentication/authorization services that you want to use:"
send -- "\r"
expect "Allow unauthenticated logins?"
send -- "\r"
expect "enable 3rd party authentication providers in your identity pool?"
send -- "\[B"
send -- "\r"
expect "Do you want to add User Pool Groups?"
send -- "\[B"
send -- "\r"
expect "Do you want to add an admin queries API?"
send -- "\[B"
send -- "\r"
expect "Multifactor authentication (MFA) user login options:"
send -- "\r"
expect "Email based user registration/forgot password:"
send -- "\r"
expect "Please specify an email verification subject:"
send -- "\r"
expect "Please specify an email verification message:"
send -- "\r"
expect "Do you want to override the default password policy for this User Pool?"
send -- "\r"
expect "Specify the app's refresh token expiration period (in days):"
send -- "\r"
expect "Do you want to specify the user attributes this app can read and write?"
send -- "\r"
expect "Do you want to enable any of the following capabilities?"
send -- "\[B"
send -- "\[B"
send -- "\[B"
send -- " "
send -- "\[B"
send -- " "
send -- "\r"
expect "Do you want to use an OAuth flow?"
send -- "\[B"
send -- "\r"
expect "Do you want to configure Lambda Triggers for Cognito?"
send -- "\r"
expect "Which triggers do you want to enable for Cognito"
send -- "\r"
expect "What functionality do you want to use for Pre Sign-up"
send -- "\[B"
send -- "\[B"
send -- "\[B"
send -- " "
send -- "\r"
expect "Enter a comma-delimited list of allowed email domains"
send "gmail.com,yahoo.com,hotmail.com,aol.com,hotmail.co.uk,hotmail.fr,msn.com,yahoo.fr,wanadoo.fr,orange.fr,comcast.net,yahoo.co.uk,yahoo.com.br,yahoo.co.in,live.com,rediffmail.com,free.fr,gmx.de,web.de,yandex.ru,ymail.com,libero.it,outlook.com,uol.com.br,bol.com.br,mail.ru,cox.net,hotmail.it,sbcglobal.net,sfr.fr,live.fr,verizon.net,live.co.uk,googlemail.com,yahoo.es,ig.com.br,live.nl,bigpond.com,terra.com.br,yahoo.it,neuf.fr,yahoo.de,alice.it,rocketmail.com,att.net,laposte.net,facebook.com,bellsouth.net,yahoo.in,hotmail.es,charter.net,yahoo.ca,yahoo.com.au,rambler.ru,hotmail.de,tiscali.it,shaw.ca,yahoo.co.jp,sky.com,earthlink.net,optonline.net,freenet.de,t-online.de,aliceadsl.fr,virgilio.it,home.nl,qq.com,telenet.be,me.com,yahoo.com.ar,tiscali.co.uk,yahoo.com.mx,voila.fr,gmx.net,mail.com,planet.nl,tin.it,live.it,ntlworld.com,arcor.de,yahoo.co.id,frontiernet.net,hetnet.nl,live.com.au,yahoo.com.sg,zonnet.nl,club-internet.fr,juno.com,optusnet.com.au,blueyonder.co.uk,bluewin.ch,skynet.be,sympatico.ca,windstream.net,mac.com,centurytel.net,chello.nl,live.ca,aim.com,bigpond.net.au\r"
expect "Enter a comma-delimited list of disallowed email domains"
send "0815.ru,0wnd.net,0wnd.org,10minutemail.co.za,10minutemail.com,123-m.com,1fsdfdsfsdf.tk,1pad.de,20minutemail.com,21cn.com,2fdgdfgdfgdf.tk,2prong.com,30minutemail.com,33mail.com,3trtretgfrfe.tk,4gfdsgfdgfd.tk,4warding.com,5ghgfhfghfgh.tk,6hjgjhgkilkj.tk,6paq.com,7tags.com,9ox.net,a-bc.net,agedmail.com,ama-trade.de,amilegit.com,amiri.net,amiriindustries.com,anonmails.de,anonymbox.com,antichef.com,antichef.net,antireg.ru,antispam.de,antispammail.de,armyspy.com,artman-conception.com,azmeil.tk,baxomale.ht.cx,beefmilk.com,bigstring.com,binkmail.com,bio-muesli.net,bobmail.info,bodhi.lawlita.com,bofthew.com,bootybay.de,boun.cr,bouncr.com,breakthru.com,brefmail.com,bsnow.net,bspamfree.org,bugmenot.com,bund.us,burstmail.info,buymoreplays.com,byom.de,c2.hu,card.zp.ua,casualdx.com,cek.pm,centermail.com,centermail.net,chammy.info,childsavetrust.org,chogmail.com,choicemail1.com,clixser.com,cmail.net,cmail.org,coldemail.info,cool.fr.nf,courriel.fr.nf,courrieltemporaire.com,crapmail.org,cust.in,cuvox.de,d3p.dk,dacoolest.com,dandikmail.com,dayrep.com,dcemail.com,deadaddress.com,deadspam.com,delikkt.de,despam.it,despammed.com,devnullmail.com,dfgh.net,digitalsanctuary.com,dingbone.com,disposableaddress.com,disposableemailaddresses.com,disposableinbox.com,dispose.it,dispostable.com,dodgeit.com,dodgit.com,donemail.ru,dontreg.com,dontsendmespam.de,drdrb.net,dump-email.info,dumpandjunk.com,dumpyemail.com,e-mail.com,e-mail.org,e4ward.com,easytrashmail.com,einmalmail.de\r"
expect "Do you want to edit your email-filter-allowlist function now?"
send -- "n\r"
expect "Do you want to edit your email-filter-denylist function now?"
send -- "n\r"
expect "Do you want to edit your custom function now?"
send -- "n\r"

interact
