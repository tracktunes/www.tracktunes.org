#!/usr/bin/expect -f

set timeout -1

spawn amplify auth update

expect "What do you want to do?"
send -- "\[B"
send -- "\r"
expect "Select the authentication/authorization services that you want to use:"
send -- "\r"
expect "Allow unauthenticated logins?"
send -- "\r"
expect "enable 3rd party authentication providers in your identity pool?"
send -- "\[B"
send -- "\r"
expect "Do you want to add User Pool Groups?"
send -- "\[B"
send -- "\r"
expect "Do you want to add an admin queries API?"
send -- "\[B"
send -- "\r"
expect "Multifactor authentication (MFA) user login options:"
send -- "\r"
expect "Email based user registration/forgot password:"
send -- "\r"
expect "Please specify an email verification subject:"
send -- "\r"
expect "Please specify an email verification message:"
send -- "\r"
expect "Do you want to override the default password policy for this User Pool?"
send -- "\r"
expect "Specify the app's refresh token expiration period (in days):"
send -- "\r"
expect "Do you want to specify the user attributes this app can read and write?"
send -- "\r"
expect "Do you want to enable any of the following capabilities?"
send -- "\r"
expect "Do you want to use an OAuth flow?"
send -- "\[B"
send -- "\r"
expect "Do you want to configure Lambda Triggers for Cognito?"
send -- "\r"
expect "Which triggers do you want to enable for Cognito"
send -- "\[B"
send -- "\[B"
send -- "\[B"
send -- "\[B"
send -- "\[B"
send -- "\[B"
send -- "\[B"
send -- " "
send -- "\r"
expect "What functionality do you want to use for Pre Sign-up"
send -- "\[B"
send -- "\[B"
send -- "\[B"
send -- " "
send -- "\r"
expect "Do you want to edit your custom function now?"
send -- "n"
send -- "\r"

interact
